# Aliases and functions for Bash across Linux and macOS (managed by chezmoi)

alias less='less -R'
if command -v eza >/dev/null 2>&1; then
 alias ll="eza --long --header --git -lah"
else
 alias ll='ls -lah'
fi

#chezmoi
#alias chezup="cd ~/.local/share/chezmoi && git pull origin main && chezmoi apply"
alias cgit="chezmoi git"

# Git (minimal)
alias ga="git add -p"
alias gb="git branch"
alias gc="git commit"
alias gclean="git clean -df"
alias gcm="git checkout master"
alias gcm='git checkout master || git checkout main'
alias gco="git checkout"
alias gco="git checkout"
alias gf="git fetch"
alias gf='git fetch'
alias gpo="git push origin HEAD"
alias gpof="git push --force-with-lease origin HEAD"
alias gpos="git push -o ci.skip"
alias gpu="git pull --ff-only"
alias gq="git status && git add . && git commit -m \"quick commit\" && git push origin HEAD"
alias gs='git status'
alias oops="git add -p && git commit --amend"
if command -v lazygit >/dev/null 2>&1; then
 alias lz='lazygit'
fi

# AWS
alias awswhoami="aws sts get-caller-identity"
alias loadaws=". ~/git/load-up-iam.sh"

# bat/batcat
{{- if eq .chezmoi.os "darwin" }}
alias cat="bat --plain"
alias less="bat"
{{- else if eq .chezmoi.os "linux" }}
alias cat="batcat --plain"
alias less="batcat"
{{- end }}

# cheat.sh
cheat() { curl "https://cheat.sh/$*"; }

# Chrome
if command -v google-chrome >/dev/null 2>&1; then
 alias chrome="google-chrome"
elif command -v chromium >/dev/null 2>&1; then
 alias chrome="chromium"
else
 alias chrome="xdg-open"
fi

# Vim
# Editor (prefer vi; switch to nvim if available)
if command -v nvim >/dev/null 2>&1; then
 alias v='nvim'
 alias vim='nvim'
 alias vi="nvim -u /dev/null "
 alias s='vim ~/scratch.md'
 alias v=nvim
 alias vim=nvim
else
 alias v='vi'
 alias vim='vi'
fi

# Ripgrep
if command -v rg >/dev/null 2>&1; then
 alias agrep="alias | rg "
 alias envgrep="env | rg -i "
 alias rg="rg --hidden -i"
fi

# Tmux
alias t="tty-clock -ct"
alias tma="tmux a"
alias tmj="tmux new -s jp \; split-window -v \; split-window -h \; select-pane -t 0 \;"

# Vagrant
alias vagrant-rdp="yes | xfreerdp /v:localhost:33389 /u:vagrant /p:vagrant &"

# xfreerdp
alias xfreerdp="xfreerdp /dynamic-resolution "

# tree
# alias tree="tree -a"

# zoxide Smarter cd command
alias z="zoxide"